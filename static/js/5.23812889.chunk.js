(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{215:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var s=a(5),n=a(51),i=(a(0),a(16)),o=a(33),c=a(1),r=["isAuth"],l=function(e){return{isAuth:e.auth.isAuth}};function j(e){return Object(o.b)(l,{})((function(t){var a=t.isAuth,o=Object(n.a)(t,r);return a?Object(c.jsx)(e,Object(s.a)({},o)):Object(c.jsx)(i.a,{to:"/login"})}))}},236:function(e,t,a){"use strict";a.r(t);var s=a(5),n=a(51),i=a(0),o=a.n(i),c=a(15),r=a(64),l=a(53),j=a(39),d=a(220),p=a.n(d),u=a(208),f=a(203),b=a(62),x=a(1),m=Object(f.a)((function(e){return{FormDataDiv:{padding:"4px 0px",display:"flex",alignItems:"center",fontSize:"19px"},FormDataButton:{margin:"15px 0px 0px 0px",display:"flex",justifyContent:"center"},ContactsContainer:{fontSize:"19px"},FormDataDivContact:{display:"flex",alignItems:"center",padding:"4px 3px 4px 16px",fontSize:"19px",color:"#2a5885"},FormDataSpan:{color:"#818e9c",paddingRight:"10px",fontWeight:600}}})),O=function(e){var t=m();return Object(x.jsx)(j.b,{onSubmit:e.onSubmit,initialValues:Object(s.a)({},e.profile),render:function(a){var s=a.handleSubmit;return Object(x.jsx)("form",{onSubmit:s,children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:t.FormDataDiv,children:[Object(x.jsx)("span",{className:t.FormDataSpan,children:"Name:"}),Object(x.jsx)("span",{children:Object(x.jsx)(j.a,{name:"fullName",component:l.a,validate:b.a,placeholder:"Full name"})})]}),Object(x.jsxs)("div",{className:t.FormDataDiv,children:[Object(x.jsx)("span",{className:t.FormDataSpan,children:"About me:"}),Object(x.jsx)("span",{children:Object(x.jsx)(j.a,{name:"aboutMe",component:l.a,placeholder:"About me"})})]}),Object(x.jsxs)("div",{className:t.FormDataDiv,children:[Object(x.jsx)("span",{className:t.FormDataSpan,children:"My professional skills:"}),Object(x.jsx)("span",{children:Object(x.jsx)(j.a,{name:"lookingForAJobDescription",component:l.b,placeholder:"My professional skills"})})]}),Object(x.jsxs)("div",{className:t.FormDataDiv,children:[Object(x.jsx)("span",{className:t.FormDataSpan,children:"Looking for a job:"}),Object(x.jsx)("span",{children:Object(x.jsx)(j.a,{name:"lookingForAJob",component:l.a,type:"checkbox"})})]}),Object(x.jsxs)("div",{className:t.ContactsContainer,children:[Object(x.jsx)("span",{className:t.FormDataSpan,children:"Contacts:"})," ",Object.keys(e.profile.contacts).map((function(e){return Object(x.jsx)("div",{className:t.FormDataDivContact,children:Object(x.jsx)("span",{className:t.FormDataSpan,children:Object(l.c)(e,"contacts."+e,[],l.a)})},e)}))]}),Object(x.jsx)("div",{className:t.FormDataButton,children:Object(x.jsx)(u.a,{variant:"contained",type:"submit",color:"warning",endIcon:Object(x.jsx)(p.a,{}),children:"Save"})})]})})}})},h=a(235),g=Object(f.a)((function(e){return{styleStatus:{display:"flex",alignItems:"center",fontSize:"18px",borderBottom:"1px solid #dce1e6"},styleStatusSpan:{fontWeight:600,padding:"9px",marginTop:"5px"}}})),v=function(e){var t=g(),a=Object(i.useState)(!1),s=Object(c.a)(a,2),n=s[0],o=s[1],r=Object(i.useState)(e.status),l=Object(c.a)(r,2),j=l[0],d=l[1];Object(i.useEffect)((function(){d(e.status)}),[e.status]);return Object(x.jsxs)("div",{children:[!n&&Object(x.jsxs)("div",{className:t.styleStatus,children:[Object(x.jsx)("span",{className:t.styleStatusSpan,children:"Status:"}),Object(x.jsx)("span",{onDoubleClick:function(){e.isOwner&&o(!0)},children:e.status||"------"})]}),n&&Object(x.jsxs)("div",{className:t.styleStatus,children:[Object(x.jsx)("span",{className:t.styleStatusSpan,children:"Status:"}),Object(x.jsx)(h.a,{id:"outlined-basic",label:"Status",variant:"outlined",size:"small",color:"info",onChange:function(e){d(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(j)},value:j})]})]})},P=a(61),y=a.n(P),S=Object(f.a)((function(e){return{profileLoginName:{fontWeight:700,fontSize:"30px"},ProfileDataDiv:{marginTop:"15px",fontSize:"19px",color:"#2a5885"},ProfileDataKey:{color:"#818e9c",paddingRight:"10px",fontWeight:600},ProfileDataKeyContacts:{padding:"0px 10px 0px 15px",color:"#818e9c",fontWeight:600},ProfileDataKeysDiv:{padding:"3px 0px"},goEditModButton:{padding:"3px 0px",display:"flex",justifyContent:"center"}}})),D=function(e){var t=S();return Object(x.jsxs)("div",{className:t.ProfileDataDiv,children:[Object(x.jsxs)("div",{className:t.ProfileDataKeysDiv,children:[Object(x.jsx)("span",{className:t.ProfileDataKey,children:"Name:"})," ",e.profile.fullName]}),Object(x.jsxs)("div",{className:t.ProfileDataKeysDiv,children:[Object(x.jsx)("span",{className:t.ProfileDataKey,children:"About me:"})," ",e.profile.aboutMe]}),Object(x.jsxs)("div",{className:t.ProfileDataKeysDiv,children:[Object(x.jsx)("span",{className:t.ProfileDataKey,children:"My professional skills:"}),e.profile.lookingForAJobDescription]}),Object(x.jsxs)("div",{className:t.ProfileDataKeysDiv,children:[Object(x.jsx)("span",{className:t.ProfileDataKey,children:"Looking for a job:"}),e.profile.lookingForAJob?"yes":"no"]}),Object(x.jsxs)("div",{className:t.ProfileDataKeysDiv,children:[Object(x.jsx)("span",{className:t.ProfileDataKey,children:"Contacts:"}),Object.keys(e.profile.contacts).map((function(t){return Object(x.jsx)(N,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]}),Object(x.jsx)("div",{className:t.goEditModButton,children:e.isOwner?Object(x.jsx)(u.a,{variant:"contained",color:"info",onClick:e.goToEditMode,endIcon:Object(x.jsx)(y.a,{}),children:"Edit"}):Object(x.jsx)("span",{})})]})},N=function(e){var t=e.contactTitle,a=e.contactValue,s=S();return Object(x.jsxs)("div",{className:s.ProfileDataKeysDiv,children:[Object(x.jsxs)("span",{className:s.ProfileDataKeyContacts,children:[t,":"]}),Object(x.jsx)("a",{href:a,children:a})]})},w=function(e){var t=S(),a=Object(i.useState)(!1),s=Object(c.a)(a,2),n=s[0],o=s[1];if(!e.profile)return Object(x.jsx)(r.a,{});return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:t.profileLoginName,children:e.profile.fullName}),Object(x.jsx)(v,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),n?Object(x.jsx)(O,{profile:e.profile,initialValues:e.profile,isOwner:e.isOwner,onSubmit:function(t){e.saveProfile(t),o(!1)},goToEditMode:function(){o(!1)}}):Object(x.jsx)(D,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){o(!0)}})]})})},I=a(89),k=a(221),F=a.n(k),C=Object(f.a)((function(e){return{itemPost:{display:"flex",alignItems:"center",fontSize:"20px",borderBottom:"1px solid #dce1e6",padding:"10px 0px"},postImage:{borderRadius:"20px"},postMessage:{flex:1},postLike:{display:"flex",flexDirection:"column",alignItems:"center"}}})),M=function(e){var t=C();return Object(x.jsxs)("div",{className:t.itemPost,children:[Object(x.jsx)("div",{className:t.postImage,children:Object(x.jsx)("img",{width:"70px",alt:"avatarUser",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSo7S86HLw3FSPP3Iflpfq1OkfEfkB8zdRGpw&usqp=CAU"})}),Object(x.jsx)("div",{className:t.postMessage,children:e.message}),Object(x.jsxs)("div",{className:t.postLike,children:[Object(x.jsx)(F.a,{color:"info"})," ",Object(x.jsxs)("span",{children:[" ",e.value]})]})]})},A=a(209),K=Object(f.a)((function(e){return{profileMyPost:{margin:"25px"},myPostContainer:{display:"flex",alignItems:"center"},myPostButton:{padding:"12px"}}})),T=function(e){var t=K();return Object(x.jsx)("div",{children:Object(x.jsx)(j.b,{onSubmit:e.onSubmit,render:function(e){var a=e.handleSubmit;return Object(x.jsx)("form",{onSubmit:a,children:Object(x.jsxs)("div",{className:t.myPostContainer,children:[Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{name:"newPostText",component:"textarea",validate:b.a,placeholder:"Post message"})}),Object(x.jsx)("div",{className:t.myPostButton,children:Object(x.jsx)(u.a,{variant:"contained",color:"info",endIcon:Object(x.jsx)(y.a,{}),type:"submit",name:"btnAddPost",children:"Send"})})]})})}})})},z=o.a.memo((function(e){var t=K(),a=e.PostData.map((function(e){return Object(x.jsx)(M,{message:e.message,value:e.value},e.id)}));return Object(x.jsxs)("div",{className:t.profileMyPost,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(A.a,{sx:{textAlign:"center",fontWeight:"600",fontSize:"30px"},children:"My posts"}),Object(x.jsx)(T,{onSubmit:function(t){console.log(t),e.addPost(t.newPostText),t.newPostText=""}})]}),Object(x.jsx)("div",{children:a})]})})),E=a(33),B=Object(E.b)((function(e){return{PostData:e.profilePage.PostData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(I.a)(t))}}}))(z),R=a(233),U=a(238),L=a(105),W=a(234),J=Object(f.a)((function(e){return{profileImg:{},imgEdit:{display:"block",margin:"auto",width:"240px",padding:"20px"},changePhoto:{textAlign:"center",fontWeight:700,fontSize:"19px"}}})),V=Object(R.a)("input")({display:"none"}),q=function(e){var t=e.isOwner,a=e.profile,s=e.savePhoto,n=J();if(!a)return Object(x.jsx)(r.a,{});return Object(x.jsxs)("div",{className:n.profileImg,children:[Object(x.jsx)("img",{alt:"ProfilePhoto",className:n.imgEdit,src:a.photos.large||L.a}),Object(x.jsx)("div",{className:n.changePhoto,children:t&&Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"\u0421hange photo:"}),Object(x.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(x.jsx)(V,{accept:"image/*",id:"icon-button-file",type:"file",onChange:function(e){e.target.files&&e.target.files.length&&s(e.target.files[0])}}),Object(x.jsx)(U.a,{color:"secondary","aria-label":"upload picture",component:"span",children:Object(x.jsx)(W.a,{})})]})]})})]})},G=Object(f.a)((function(e){return{wrapper_profile:{display:"grid",gridTemplateRows:"1fr auto",gridTemplateColumns:"4fr 8fr",gridGap:"1rem"},wrapperProfileImg:{background:"#ffffff",borderRadius:"6px"},wrapperProfileInfo:{background:"#ffffff",borderRadius:"6px",padding:"15px"},wrapperMyPostsContainer:{background:"#ffffff",borderRadius:"6px"}}})),_=function(e){var t=G();return Object(x.jsxs)("div",{className:t.wrapper_profile,children:[Object(x.jsx)("div",{className:t.wrapperProfileImg,children:Object(x.jsx)(q,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto})}),Object(x.jsx)("div",{className:t.wrapperProfileInfo,children:Object(x.jsx)(w,{profile:e.profile,status:e.status,isOwner:e.isOwner,updateStatus:e.updateStatus,saveProfile:e.saveProfile,savePhoto:e.savePhoto})}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{className:t.wrapperMyPostsContainer,children:Object(x.jsx)(B,{})})]})},H=a(16),Q=a(215),X=a(38),Y=["match","history","authorizedUserId","getUsersProfile","getStatus"];t.default=Object(X.c)(Object(E.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,login:e.auth.login}}),{getUsersProfile:I.d,getStatus:I.c,updateStatus:I.g,savePhoto:I.e,saveProfile:I.f}),H.g,Q.a)((function(e){var t=e.match,a=e.history,o=e.authorizedUserId,c=e.getUsersProfile,r=e.getStatus,l=Object(n.a)(e,Y);return Object(i.useEffect)((function(){var e=+t.params.userId;e||(e=o)||a.push("/login"),c(e),r(e)}),[t.params.userId,c,r,o,a]),Object(x.jsx)(_,Object(s.a)(Object(s.a)({},l),{},{profile:l.profile,status:l.status,updateStatus:l.updateStatus,isOwner:!t.params.userId,savePhoto:l.savePhoto}))}))}}]);
//# sourceMappingURL=5.23812889.chunk.js.map